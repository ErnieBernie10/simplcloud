[{"Name":"nextcloud","DockerComposeTemplate":"services:\n  db:\n    image: mariadb:lts\n    restart: unless-stopped\n    command: --transaction-isolation=READ-COMMITTED --binlog-format=ROW\n    environment:\n      MYSQL_ROOT_PASSWORD: \"{MYSQL_ROOT_PASSWORD}\"\n      MYSQL_PASSWORD: \"{MYSQL_PASSWORD}\"\n      MYSQL_DATABASE: nextcloud\n      MYSQL_USER: nextcloud\n    volumes:\n      - ./db:/var/lib/mysql\n\n  redis:\n    image: redis:alpine\n    restart: unless-stopped\n    volumes:\n      - ./redis:/data\n\n  nextcloud:\n    image: nextcloud:apache\n    restart: unless-stopped\n    ports:\n      - 8080:80\n    environment:\n      MYSQL_PASSWORD: \"{MYSQL_PASSWORD}\"\n      MYSQL_DATABASE: nextcloud\n      MYSQL_USER: nextcloud\n      MYSQL_HOST: db\n      REDIS_HOST: redis\n      NEXTCLOUD_ADMIN_USER: admin\n      NEXTCLOUD_ADMIN_PASSWORD: admin\n      NEXTCLOUD_TRUSTED_DOMAINS: \"{SUBDOMAIN}.{DOMAIN}\"\n    volumes:\n      - ./nextcloud:/var/www/html\n      - ./nextcloud_data:/var/www/html/data\n    depends_on:\n      - db\n      - redis\n    labels:\n      - \"traefik.enable=true\"\n      - \"traefik.http.routers.vaultwarden.rule=Host(`{SUBDOMAIN}.${DOMAIN}`)\"\n      - \"traefik.http.services.vaultwarden.loadbalancer.server.port=${PORT}\"\n      - \"traefik.http.routers.vaultwarden.entrypoints=websecure\"\n      - \"traefik.http.routers.vaultwarden.tls.certresolver=letsencrypt\"\n\n  collabora:\n    image: collabora/code\n    restart: unless-stopped\n    environment:\n      - domain={COLLABORA_SUBDOMAIN:-collabora}\\.${DOMAIN}\n      - username={COLABORA_USERNAME}\n      - password={COLABORA_PASSWORD}\n      - extra_params=--o:ssl.enable=true\n      - extra_params=--o:ssl.termination=true\n    ports:\n      - 9980:9980\n    labels:\n      - \"traefik.enable=true\"\n      - \"traefik.http.routers.vaultwarden.rule=Host(`{COLLABORA_SUBDOMAIN}.${DOMAIN}`)\"\n      - \"traefik.http.services.vaultwarden.loadbalancer.server.port=9980\"\n      - \"traefik.http.routers.vaultwarden.entrypoints=websecure\"\n      - \"traefik.http.routers.vaultwarden.tls.certresolver=letsencrypt\"\n\n  elasticsearch:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.13\n    restart: unless-stopped\n    environment:\n      - discovery.type=single-node\n      - xpack.security.enabled=false\n    volumes:\n      - ./elasticsearch:/usr/share/elasticsearch/data\n    mem_limit: 2g\n","EnvTemplate":"EMAIL={{ .Email }}\nDOMAIN={{ .Domain }}\nSUBDOMAIN={{ with .Subdomain }}{{ . }}{{ else }}vaultwarden{{ end }}\nCOLLABORA_SUBDOMAIN={{ with .CollaboraSubdomain }}{{ . }}{{ else }}collabora{{ end }}\nCOLLABORA_USERNAME={{ with .CollaboraUserName }}{{ . }}{{ else }}admin{{ end }}\nCOLLABORA_PASSWORD={{ with .CollaboraPassword }}{{ . }}{{ else }}admin{{ end }}\nPORT={{ with .Port }}{{ . }}{{ else }}5001{{ end }}\nMYSQL_ROOT_PASSWORD={{ .MySqlRootPassword }}\nMYSQL_PASSWORD={{ .MySqlPassword }}","Meta":{"DisplayName":"Nextcloud","Logo":"logo.svg","Description":"A personal cloud","AppVersion":"30.1"}},{"Name":"vaultwarden","DockerComposeTemplate":"services:\n  vaultwarden:\n    image: vaultwarden/server:latest\n    container_name: vaultwarden\n    restart: unless-stopped\n    environment:\n      DOMAIN: \"https://{SUBDOMAIN:-vw}.${DOMAIN}\"\n    volumes:\n      - ./vw-data/:/data/\n    ports:\n      - ${PORT}:80\n    labels:\n      - \"traefik.enable=true\"\n      - \"traefik.http.routers.vaultwarden.rule=Host(`{SUBDOMAIN:-vw}.${DOMAIN}`)\"\n      - \"traefik.http.services.vaultwarden.loadbalancer.server.port=${PORT}\"\n      - \"traefik.http.routers.vaultwarden.entrypoints=websecure\"\n      - \"traefik.http.routers.vaultwarden.tls.certresolver=letsencrypt\"\n","EnvTemplate":"EMAIL={{ .Email }}\nDOMAIN={{ .Domain }}\nSUBDOMAIN={{ with .Subdomain }}{{ . }}{{ else }}vaultwarden{{ end }}\nPORT={{ with .Port }}{{ . }}{{ else }}5001{{ end }}\n","Meta":{"DisplayName":"Vaultwarden","Logo":"","Description":"Open source password manager","AppVersion":"1.0"}}]